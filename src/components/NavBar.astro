<nav id="navbar" class="sticky top-0 left-0 right-0 bg-transparent transition-all duration-300 z-[100]">
  <div class="max-w-7xl mx-auto px-4 md:px-8 py-6 flex justify-between items-center relative">
    <h5 class="font-medium text-xl text-black">YF</h5>

    {/* Botón hamburguesa mobile */}
    <button
      id="menu-toggle"
      class="md:hidden flex flex-col gap-1.5 cursor-pointer"
      aria-label="Toggle menu"
    >
    <svg
      id="menu-icon"
      xmlns="http://www.w3.org/2000/svg"
      fill="currentColor"
      class="text-black w-8 h-8 transition-all duration-300"
      viewBox="0 0 16 16"
    >
      <path
        fill-rule="evenodd"
        d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
      ></path>
    </svg>
    <svg
      id="close-icon"
      xmlns="http://www.w3.org/2000/svg"
      fill="currentColor"
      class="hidden text-black w-8 h-8 transition-all duration-300"
      viewBox="0 0 16 16"
    >
      <path
        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"
      ></path>
    </svg>
  </button>

  {/* Menú desktop */}
  <ul class="hidden md:flex gap-4">
    <li><a href="#inicio" class="hover:opacity-80 transition hover:underline underline-offset-4">Inicio</a></li>
    <li>
      <a href="#portafolio" class="hover:opacity-80 transition hover:underline underline-offset-4">Portafolio</a>
    </li>
    <li>
      <a href="#servicios" class="hover:opacity-80 transition hover:underline underline-offset-4">Servicios</a>
    </li>
    <li>
      <a href="#contacto" class="hover:opacity-80 transition hover:underline underline-offset-4">Contacto</a>
    </li>
  </ul>

  {/* Menú mobile dropdown */}
  <ul
    id="mobile-menu"
    class="text-end absolute top-full left-0 right-0 bg-(--accent-color) flex-col gap-6 p-6 md:hidden shadow-lg z-50 max-h-0 overflow-hidden opacity-0"
  >
    <li>
      <a href="#inicio" class="hover:opacity-80 transition block text-lg text-black font-medium hover:underline underline-offset-4">Inicio</a>
    </li>
    <li>
      <a href="#portafolio" class="hover:opacity-80 transition block text-lg text-black font-medium hover:underline underline-offset-4">Portafolio</a>
    </li>
    <li>
      <a href="#servicios" class="hover:opacity-80 transition block text-lg text-black font-medium hover:underline underline-offset-4">Servicios</a>
    </li>
    <li>
      <a href="#contacto" class="hover:opacity-80 transition block text-lg text-black font-medium hover:underline underline-offset-4">Contacto</a>
    </li>
  </ul>
  </div>
</nav>

<style>
  #mobile-menu {
    transition: max-height 500ms ease-in-out, opacity 400ms ease-in-out, padding 400ms ease-in-out;
    display: flex;
  }
  
  #mobile-menu.visible {
    max-height: 500px;
    opacity: 1;
  }

  #navbar.scrolled {
    background-color: var(--accent-color);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const navbar = document.getElementById("navbar");
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuIcon = document.getElementById("menu-icon");
    const closeIcon = document.getElementById("close-icon");
    const navLinks = mobileMenu?.querySelectorAll("a");

    // Cambiar color del navbar al hacer scroll
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        navbar?.classList.add('scrolled');
      } else {
        navbar?.classList.remove('scrolled');
      }
    });

    // Toggle menú
    menuToggle?.addEventListener("click", (e) => {
      e.stopPropagation();
      mobileMenu?.classList.toggle("visible");
      menuIcon?.classList.toggle("hidden");
      closeIcon?.classList.toggle("hidden");
    });

    // Cerrar menú al hacer clic fuera
    document.addEventListener("click", (e) => {
      if (mobileMenu?.classList.contains("visible") && 
          !mobileMenu?.contains(e.target) && 
          !menuToggle?.contains(e.target)) {
        mobileMenu?.classList.remove("visible");
        menuIcon?.classList.remove("hidden");
        closeIcon?.classList.add("hidden");
      }
    });

    // Cerrar menú al hacer clic en un enlace
    navLinks?.forEach((link) => {
      link.addEventListener("click", () => {
        mobileMenu?.classList.remove("visible");
        menuIcon?.classList.remove("hidden");
        closeIcon?.classList.add("hidden");
      });
    });
  });
</script>
